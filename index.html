<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SBS Board Meeting</title>
<style>
body{margin:0;font-family:Inter,sans-serif;background:#eef2ff;}
#landing{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;gap:12px;}
input{padding:12px 14px;border-radius:12px;border:1px solid #ccc;font-size:1rem;width:220px;}
button{padding:12px 24px;border:none;border-radius:12px;background:#2563eb;color:#fff;font-size:1rem;cursor:pointer;font-weight:600;}
#jitsi-container{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:1;display:none;}
#overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;display:flex;justify-content:center;align-items:center;z-index:2;}
#overlay button{font-size:1.5rem;padding:16px 32px;width:220px;}
</style>
</head>
<body>

<div id="landing">
  <input id="displayName" placeholder="Enter your name"/>
  <button id="joinBtn">Join</button>
</div>

<div id="jitsi-container"></div>
<div id="overlay" style="display:none;">
  <button id="overlayJoinBtn">Join in Browser</button>
</div>

<script src="https://meet.jit.si/external_api.js"></script>
<script>
const landing=document.getElementById('landing');
const joinBtn=document.getElementById('joinBtn');
const displayNameInput=document.getElementById('displayName');
const container=document.getElementById('jitsi-container');
const overlay=document.getElementById('overlay');
const overlayJoinBtn=document.getElementById('overlayJoinBtn');

let api=null;
let displayName='';

joinBtn.addEventListener('click',()=>{
  displayName=displayNameInput.value.trim();
  if(!displayName){alert('Enter your name'); return;}
  landing.style.display='none';
  container.style.display='block';
  overlay.style.display='flex';
});

overlayJoinBtn.addEventListener('click',()=>{
  overlay.style.display='none';
  const room='sbs-board-meeting';
  const options={
    roomName:room,
    parentNode:container,
    configOverwrite:{startWithAudioMuted:false,startWithVideoMuted:false},
    interfaceConfigOverwrite:{
      SHOW_JITSI_WATERMARK:false,
      SHOW_WATERMARK_FOR_GUESTS:false,
      HIDE_DEEP_LINKING_LOGO:true,
      TOOLBAR_BUTTONS:[
        'microphone','camera','desktop','fullscreen','hangup','chat',
        'recording','etherpad','sharedvideo','settings','raisehand',
        'videoquality','tileview','participants-pane','livestreaming','security'
      ]
    }
  };
  api=new JitsiMeetExternalAPI('meet.jit.si',options);
  api.executeCommand('displayName',displayName);
});
</script>

</body>
</html>
